!function(t){function a(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var o={};a.m=t,a.c=o,a.d=function(t,o,e){a.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:e})},a.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=3)}([,,,function(t,a,o){t.exports=o(4)},function(t,a,o){"use strict";function e(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,a){var o=[],e=!0,r=!1,l=void 0;try{for(var s,n=t[Symbol.iterator]();!(e=(s=n.next()).done)&&(o.push(s.value),!a||o.length!==a);e=!0);}catch(t){r=!0,l=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw l}}return o}return function(a,o){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return t(a,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(a,o,e){return o&&t(a.prototype,o),e&&t(a,e),a}}();new(function(){function t(){e(this,t),this.init()}return l(t,[{key:"init",value:function(){this.clickWord()}},{key:"clickWord",value:function(){var t=this,a=void 0,o=void 0;$("body").on("click",".greek-word",function(o){var e=$(o.target);if(e.hasClass("digit"))return t.openRuBook(e),!0;a&&e.hasClass("word")&&(t.destroyPopper(a),a=null),axios.post("/word-greek",{code:e.attr("data"),word:e.text()}).then(function(o){var r="";o.data.word.links.forEach(function(a){r+='<div>- <a class="ru-word" data="'+t.escapeHtml(a[0])+'">'+a[0]+"</a> ",r+="<span>("+a[1]+")</span> ",a[2].forEach(function(t){r+=-1!=t.nameBook.indexOf("..")?"<span>"+t.nameBook+"</span>":'<a class="greek-chapter" data="'+t.ot_nt_gl+"/"+t.numberBook+'">'+t.nameBook+" "+t.numberBook+"</a>; "}),r+="</div>"});var l="";o.data.word.emptys.forEach(function(t){l+='<a class="other greek-word" data="'+t.code+'" style="font-family: GrkV">'+t.word+"</a> "});var s=$('<div class="card detal-word">                  <div class="remove"><i class="fa fa-close"></i></div>                  <blockquote class="card-body">                    <p class="word-bold" style="font-family: GrkV">'+o.data.word.header.greek+'</p>                    <small class="text-muted">'+r+'</small>                    <footer>                      <small class="text-muted">                        <div><span>сл.ф.:</span> <a class="symphony" data="'+o.data.word.header.otherGreek.code+'" style="font-family: GrkV">'+o.data.word.header.otherGreek.greek+"</a></div>                        "+(0!=l.length?"<div><span>см.т.:</span> "+l:"")+"                      </small>                    </footer>                  </blockquote>                </div>");a||e.closest("#wordModal").length?t.setMoodalData(s,""):($("body").append(s),$(".detal-word").on("click",".remove",function(){t.destroyPopper(a),a=null}),a=new Popper(e,s,{placement:"bottom",modifiers:{flip:{behavior:["left","bottom","top","right"]},preventOverflow:{boundariesElement:"scrollParent"}}}))}).catch(function(t){console.log(t)})}).on("click",".ru-word",function(o){var e=$(o.target);a&&e.hasClass("word")&&(t.destroyPopper(a),a=null),axios.post("/word-ru",{word:e.attr("data")}).then(function(o){var r="";o.data.word.links.forEach(function(t){r+='<div><a class="other greek-word" data="'+t.code+'" style="font-family: GrkV">'+t.word+"</a></div>"});var l="";o.data.word.emptys.forEach(function(a){l+='<a class="other ru-word" data="'+t.escapeHtml(a)+'">'+a+"</a>; "});var s=$('<div class="card detal-word">                  <div class="remove"><i class="fa fa-close"></i></div>                  <blockquote class="card-body">                    <p class="word-bold">'+o.data.word.header+'</p>                    <small class="text-muted">'+r+'</small>                    <footer>                      <small class="text-muted">                        '+(0!=l.length?"<div><span>см.т.:</span> "+l:"")+"                      </small>                    </footer>                  </blockquote>                </div>");a||e.closest("#wordModal").length?t.setMoodalData(s,""):($("body").append(s),$(".detal-word").on("click",".remove",function(){t.destroyPopper(a),a=null}),a=new Popper(e,s,{placement:"bottom",modifiers:{flip:{behavior:["left","bottom","top","right"]},preventOverflow:{boundariesElement:"scrollParent"}}}))}).catch(function(t){console.log(t)})}).on("click",".greek-chapter",function(a){var o=$(a.target),e=o.attr("data").split("/"),r=o.hasClass("chapter")?0:o.text();if(""==e[0])return t.setMoodalData($("<h6>Подстрочный перевод отсутствует</h6>"),""),!0;axios.post("/chapter-greek",{code:o.attr("data"),ot_nt:e[0],book:e[1],chapter:e[2],cn:r}).then(function(a){var o="",e=a.data;e.a_1.data.forEach(function(a,l){o+=8==l?"</div>":"",""==a.trim()?o+=l<9?"":"<br>":o+='<div class="word-block">                            <span class="greek-word'+(isNaN(a)?"":" digit"+(l<8?" chapter":0!=r&&r==parseInt(a,10)?" active":""))+'" data="'+e.a_3.data[l]+'">'+a+'</span>                            <span class="ru-word" data="'+t.escapeHtml(e.a_4.data[l])+'">'+e.a_4.data[l]+"</span>                        </div>"});var l=$('<div class="intro" data="'+e.ot_nt+"."+e.book+'">                        <div class="title">'+o+"                        </div>                      </div>");t.setMoodalData(l,"")})}).on("click",".symphony",function(a){var o=$(a.target);axios.post("/symphony-greek-word",{code:o.attr("data"),word:o.text()}).then(function(a){var o="";a.data.word.other.forEach(function(t){o+="<div>",o+='<a class="other greek-word" data="'+t.code+'" style="font-family: GrkV">'+t.word+"</a> ",o+=" <strong>("+t.count+")</strong>",t.ruWord.forEach(function(t,a){o+=(a>0?",":"")+" <span>"+t.word+" ("+t.count+")</span>"}),o+="</div>"});var e=$('<div class="card detal-word">                  <div class="remove"><i class="fa fa-close"></i></div>                  <blockquote class="card-body">                    <p class="word-bold" style="font-family: GrkV">'+a.data.word.word+"</p>                    <small>"+a.data.word.detal+'</small>                    <footer>                      <small class="text-muted">                        '+(0!=o.length?o:"")+"                      </small>                    </footer>                  </blockquote>                </div>");t.setMoodalData(e,"")})}).on("click",".simphony-ru",function(o){var e=$(o.target);a&&(t.destroyPopper(a),a=null),axios.post("/ru-simphony",{word:e.text()}).then(function(o){var r="";o.data.word.emptys.forEach(function(t){r+='<a class="simphony-ru">'+t+"</a>; "});var l="";o.data.word.links.forEach(function(a){var o=a.split(":");l+='<a class="greek-word digit sim-word" data="'+a+'">'+t.getShortWord(o[0])+" "+o[1]+";</a> "});var s=$('<div class="card detal-word">                  <div class="remove"><i class="fa fa-close"></i></div>                  <blockquote class="card-body">                    <p class="word-bold">'+o.data.word.word+" ("+o.data.word.cifral+")</p>                    <small>"+l+"</small>                    <footer>"+(r.length?'<small class="text-muted">см.т. '+r+"</small>":"")+"                    </footer>                  </blockquote>                </div>");e.hasClass("no-modal")?($("body").append(s),$(".detal-word").on("click",".remove",function(){t.destroyPopper(a),a=null}),a=new Popper(e,s,{placement:"bottom",modifiers:{flip:{behavior:["left","bottom","top","right"]},preventOverflow:{boundariesElement:"scrollParent"}}})):t.setMoodalData(s,"")})}).on("click","a.page-link",function(t){var a=$(t.target);a=a.hasClass("page-link")?a:a.parent(".page-link");var o=a.attr("href").split("?")[1].split("&").reduce(function(t,a){var o=a.split("="),e=r(o,2),l=e[0],s=e[1];return t[l]=s?decodeURIComponent(s.replace(/\+/g," ")):"",t},{});return o.view=!0,$(".intro").css({opacity:".4"}),axios.post(a.hasClass("ru-link")?"/ru-template":"/greek-template",o).then(function(t){$(".intro").css({opacity:1}).attr("data",o.ot_nt+"."+o.book).html(t.data.chapter),$(".pages").html(t.data.pagination),$(".box-other").html(t.data.links),$("html, body").animate({scrollTop:$(".intro").offset().top-85},500),$("#accordion").find(".collapse.show").removeClass("show"),$("#accordion").find("li.active").removeClass("active"),$("#colapse-"+(a.hasClass("ru-link")?o.book.split("_")[0]+"_":o.book)).addClass("show").find("span").each(function(t,e){$(e).text()==(a.hasClass("ru-link")?+o.book.split("_")[1]:o.chapter)&&$(e).closest("li.page-item").addClass("active")});try{history.pushState(null,null,a.attr("href"))}catch(t){}}),!1}).on("click",".word-abr",function(t){o&&(o.destroy(),o=null,$(".poper-full-click").remove());var a=$(t.target);axios.post("/abr-word",{word:a.text()}).then(function(t){if(!t.data)return!0;var e=$('<div class="card poper-full-click" style="z-index:99999">                  <blockquote class="card-body">                      <small class="text-muted"><strong>'+t.data.krosh+"</strong> - "+t.data.text+"                      </small>                  </blockquote>                </div>");$("body").append(e),$("body").on("click","#wordModal, .poper-full-click",function(){o&&(o.destroy(),o=null),$(".poper-full-click").remove(),$("body").off("click","#wordModal")}),o=new Popper(a,e,{placement:"bottom",modifiers:{flip:{behavior:["left","bottom","top","right"]}}})})})}},{key:"openRuBook",value:function(t){var a=this,o=void 0,e=void 0,r=void 0,l=void 0;t.hasClass("sim-word")?o=this.setCode(t.attr("data")):(e=t.closest(".intro"),r=e.attr("data").split("."),l=t.hasClass("chapter")?0:t.text()),axios.post("/ru-bible",t.hasClass("sim-word")?{code:o,word:t.text(),is:!1}:{ot_nt:r[0],book:r[1],chapter:e.find(".chapter").text(),cn:l,is:!0}).then(function(t){var o="";t.data.a.data.forEach(function(a,e){o+="<div "+(0!=l&&l==e+1?'class="active"':"")+">",a.split(" ").forEach(function(a,e){o+=0==e?a:1==e?' data="'+t.data.ot_nt+"/"+t.data.book+"/"+t.data.chapter+'" '+a:2==e?" "+a:' <a class="simphony-ru">'+a+"</a>"}),o+="</div>"});var e=$('<div class="card detal-word">                  <div class="remove"><i class="fa fa-close"></i></div>                  <blockquote class="card-body">                    <p class="word-bold chapter greek-chapter ru-bible" data="'+t.data.ot_nt+"/"+t.data.book+"/"+t.data.chapter+'">'+t.data.t+'</p>                    <footer>                      <small class="text-muted">                        '+o+"                      </small>                    </footer>                  </blockquote>                </div>");a.setMoodalData(e,"")})}},{key:"destroyPopper",value:function(t){t.destroy(),$(".detal-word").remove()}},{key:"setMoodalData",value:function(t,a){$("#wordModal").hasClass("show")||$("#wordModal").modal(),t.find(".remove").remove(),$("#wordModal").find(".modal-title").text(a),$("#wordModal").find(".modal-body").html(t)}},{key:"setActive",value:function(){}},{key:"getShortWord",value:function(t){return["Быт","Исх","Лев","Чис","Втор","Нав","Суд","Руфь","1Цар","2Цар","3Цар","4Цар","1Пар","2Пар","Езд","Неем","2Езд","Тов","Иудифь","Есф","Иов","Пс","Притч","Еккл","Песн","Прем","Сир","Ис","Иер","Плач","Посл.Иер","Вар","Иез","Дан","Ос","Иоил","Ам","Авд","Иона","Мих","Наум","Авв","Соф","Агг","Зах","Мал","1Мак","2Мак","3Мак","3Езд","Мф","Мк","Лк","Ин","Деян","Иак","1Пет","2Пет","1Ин","2Ин","3Ин","Иуд","Рим","1Кф","2Кф","Гал","Еф","Флп","Кол","1Фес","2Фес","1Тим","2Тим","Тит","Флм","Евр","Откр"][t-1]}},{key:"setCode",value:function(t){var a=t.split(":");return(1==a[0].length?"0"+a[0]:a[0])+"_"+(1==a[1].length?"00"+a[1]:2==a[1].length?"0"+a[1]:a[1])}},{key:"escapeHtml",value:function(t){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,function(t){return a[t]})}}]),t}())}]);